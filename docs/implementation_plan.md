# 実装計画 - Web版テトリス

この計画は、ターミナル版テトリスをモダンなWebアプリケーションに移植する手順を概説します。

## 目標
Python版のメカニクス（WASD操作、速度調整、ポーズ機能）を再現しつつ、モダンなWeb技術を使用して優れた視覚体験を提供するプレミアムなWeb版テトリスを作成します。

## 重要: ユーザー確認事項
> [!NOTE]
> ルートディレクトリの整理のため、ゲームは `.../Antigravity/web/` ディレクトリ内に構築されます。

## 変更内容

### 構成
#### [新規] ディレクトリ: `.../Antigravity/web/`

#### [新規] index.html
- メインエントリーポイント。
- ゲームキャンバス/グリッドコンテナおよびUIオーバーレイ（スタートメニュー、ゲームオーバー、ポーズ）を含みます。

#### [新規] style.css
- **デザイン**: ダークテーマ、鮮やかなブロック色、微細な発光エフェクト、レスポンシブレイアウト。
- **レイアウト**: 中央にゲームボード、サイドパネルにスコア/レベル/ネクスト表示。

#### [新規] script.js
- **ロジック移植**:
    - `Tetromino` 定義と回転ロジック。
    - `TetrisGame` クラスによるボード状態管理。
    - `requestAnimationFrame` を使用したゲームループ。
    - **入力処理**: 矢印キー、WASD、Q、ESCの `keydown` イベント処理。
    - **速度ロジック**: レベル選択（1-10）、30点ごとの閾値、速度の1/3加速。
    - **追加機能**: 7-Bag生成、ハードドロップ加点、Web Audio APIによるサウンド、Canvas爆発エフェクト。

## 検証計画

### 手動検証
- ブラウザで `index.html` を開く。
- 「Start Level」の選択が機能することを確認。
- 定常的な描画（ブロック、グリッド）を確認。
- 操作テスト: WASD/矢印キーでの移動、上キーでの回転、下キーでのソフトドロップ。
- メカニクス: ライン消去、スコアリング（1ライン10点、落下1点）、速度上昇（30点ごと）。
- ポーズ（ESC）および終了/リロード動作の確認。
- ゲームオーバー時の爆発エフェクトとリトライ機能の確認。
